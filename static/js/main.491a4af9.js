/*! For license information please see main.491a4af9.js.LICENSE.txt */
(()=>{"use strict";var e={43:(e,t,s)=>{e.exports=s(288)},288:(e,t)=>{var s=Symbol.for("react.transitional.element"),n=Symbol.for("react.portal"),r=Symbol.for("react.fragment"),i=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),a=Symbol.for("react.consumer"),c=Symbol.for("react.context"),l=Symbol.for("react.forward_ref"),u=Symbol.for("react.suspense"),d=Symbol.for("react.memo"),m=Symbol.for("react.lazy"),h=Symbol.for("react.activity"),p=Symbol.iterator;var f={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},y=Object.assign,g={};function v(e,t,s){this.props=e,this.context=t,this.refs=g,this.updater=s||f}function j(){}function x(e,t,s){this.props=e,this.context=t,this.refs=g,this.updater=s||f}v.prototype.isReactComponent={},v.prototype.setState=function(e,t){if("object"!==typeof e&&"function"!==typeof e&&null!=e)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")},v.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")},j.prototype=v.prototype;var b=x.prototype=new j;b.constructor=x,y(b,v.prototype),b.isPureReactComponent=!0;var N=Array.isArray;function k(){}var S={H:null,A:null,T:null,S:null},T=Object.prototype.hasOwnProperty;function _(e,t,n){var r=n.ref;return{$$typeof:s,type:e,key:t,ref:void 0!==r?r:null,props:n}}function w(e){return"object"===typeof e&&null!==e&&e.$$typeof===s}var C=/\/+/g;function R(e,t){return"object"===typeof e&&null!==e&&null!=e.key?function(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(e){return t[e]})}(""+e.key):t.toString(36)}function E(e,t,r,i,o){var a=typeof e;"undefined"!==a&&"boolean"!==a||(e=null);var c,l,u=!1;if(null===e)u=!0;else switch(a){case"bigint":case"string":case"number":u=!0;break;case"object":switch(e.$$typeof){case s:case n:u=!0;break;case m:return E((u=e._init)(e._payload),t,r,i,o)}}if(u)return o=o(e),u=""===i?"."+R(e,0):i,N(o)?(r="",null!=u&&(r=u.replace(C,"$&/")+"/"),E(o,t,r,"",function(e){return e})):null!=o&&(w(o)&&(c=o,l=r+(null==o.key||e&&e.key===o.key?"":(""+o.key).replace(C,"$&/")+"/")+u,o=_(c.type,l,c.props)),t.push(o)),1;u=0;var d,h=""===i?".":i+":";if(N(e))for(var f=0;f<e.length;f++)u+=E(i=e[f],t,r,a=h+R(i,f),o);else if("function"===typeof(f=null===(d=e)||"object"!==typeof d?null:"function"===typeof(d=p&&d[p]||d["@@iterator"])?d:null))for(e=f.call(e),f=0;!(i=e.next()).done;)u+=E(i=i.value,t,r,a=h+R(i,f++),o);else if("object"===a){if("function"===typeof e.then)return E(function(e){switch(e.status){case"fulfilled":return e.value;case"rejected":throw e.reason;default:switch("string"===typeof e.status?e.then(k,k):(e.status="pending",e.then(function(t){"pending"===e.status&&(e.status="fulfilled",e.value=t)},function(t){"pending"===e.status&&(e.status="rejected",e.reason=t)})),e.status){case"fulfilled":return e.value;case"rejected":throw e.reason}}throw e}(e),t,r,i,o);throw t=String(e),Error("Objects are not valid as a React child (found: "+("[object Object]"===t?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.")}return u}function O(e,t,s){if(null==e)return e;var n=[],r=0;return E(e,n,"","",function(e){return t.call(s,e,r++)}),n}function Y(e){if(-1===e._status){var t=e._result;(t=t()).then(function(t){0!==e._status&&-1!==e._status||(e._status=1,e._result=t)},function(t){0!==e._status&&-1!==e._status||(e._status=2,e._result=t)}),-1===e._status&&(e._status=0,e._result=t)}if(1===e._status)return e._result.default;throw e._result}var A="function"===typeof reportError?reportError:function(e){if("object"===typeof window&&"function"===typeof window.ErrorEvent){var t=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:"object"===typeof e&&null!==e&&"string"===typeof e.message?String(e.message):String(e),error:e});if(!window.dispatchEvent(t))return}else if("object"===typeof process&&"function"===typeof process.emit)return void process.emit("uncaughtException",e);console.error(e)},P={map:O,forEach:function(e,t,s){O(e,function(){t.apply(this,arguments)},s)},count:function(e){var t=0;return O(e,function(){t++}),t},toArray:function(e){return O(e,function(e){return e})||[]},only:function(e){if(!w(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};t.Activity=h,t.Children=P,t.Component=v,t.Fragment=r,t.Profiler=o,t.PureComponent=x,t.StrictMode=i,t.Suspense=u,t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=S,t.__COMPILER_RUNTIME={__proto__:null,c:function(e){return S.H.useMemoCache(e)}},t.cache=function(e){return function(){return e.apply(null,arguments)}},t.cacheSignal=function(){return null},t.cloneElement=function(e,t,s){if(null===e||void 0===e)throw Error("The argument must be a React element, but you passed "+e+".");var n=y({},e.props),r=e.key;if(null!=t)for(i in void 0!==t.key&&(r=""+t.key),t)!T.call(t,i)||"key"===i||"__self"===i||"__source"===i||"ref"===i&&void 0===t.ref||(n[i]=t[i]);var i=arguments.length-2;if(1===i)n.children=s;else if(1<i){for(var o=Array(i),a=0;a<i;a++)o[a]=arguments[a+2];n.children=o}return _(e.type,r,n)},t.createContext=function(e){return(e={$$typeof:c,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null}).Provider=e,e.Consumer={$$typeof:a,_context:e},e},t.createElement=function(e,t,s){var n,r={},i=null;if(null!=t)for(n in void 0!==t.key&&(i=""+t.key),t)T.call(t,n)&&"key"!==n&&"__self"!==n&&"__source"!==n&&(r[n]=t[n]);var o=arguments.length-2;if(1===o)r.children=s;else if(1<o){for(var a=Array(o),c=0;c<o;c++)a[c]=arguments[c+2];r.children=a}if(e&&e.defaultProps)for(n in o=e.defaultProps)void 0===r[n]&&(r[n]=o[n]);return _(e,i,r)},t.createRef=function(){return{current:null}},t.forwardRef=function(e){return{$$typeof:l,render:e}},t.isValidElement=w,t.lazy=function(e){return{$$typeof:m,_payload:{_status:-1,_result:e},_init:Y}},t.memo=function(e,t){return{$$typeof:d,type:e,compare:void 0===t?null:t}},t.startTransition=function(e){var t=S.T,s={};S.T=s;try{var n=e(),r=S.S;null!==r&&r(s,n),"object"===typeof n&&null!==n&&"function"===typeof n.then&&n.then(k,A)}catch(i){A(i)}finally{null!==t&&null!==s.types&&(t.types=s.types),S.T=t}},t.unstable_useCacheRefresh=function(){return S.H.useCacheRefresh()},t.use=function(e){return S.H.use(e)},t.useActionState=function(e,t,s){return S.H.useActionState(e,t,s)},t.useCallback=function(e,t){return S.H.useCallback(e,t)},t.useContext=function(e){return S.H.useContext(e)},t.useDebugValue=function(){},t.useDeferredValue=function(e,t){return S.H.useDeferredValue(e,t)},t.useEffect=function(e,t){return S.H.useEffect(e,t)},t.useEffectEvent=function(e){return S.H.useEffectEvent(e)},t.useId=function(){return S.H.useId()},t.useImperativeHandle=function(e,t,s){return S.H.useImperativeHandle(e,t,s)},t.useInsertionEffect=function(e,t){return S.H.useInsertionEffect(e,t)},t.useLayoutEffect=function(e,t){return S.H.useLayoutEffect(e,t)},t.useMemo=function(e,t){return S.H.useMemo(e,t)},t.useOptimistic=function(e,t){return S.H.useOptimistic(e,t)},t.useReducer=function(e,t,s){return S.H.useReducer(e,t,s)},t.useRef=function(e){return S.H.useRef(e)},t.useState=function(e){return S.H.useState(e)},t.useSyncExternalStore=function(e,t,s){return S.H.useSyncExternalStore(e,t,s)},t.useTransition=function(){return S.H.useTransition()},t.version="19.2.3"},579:(e,t,s)=>{e.exports=s(799)},672:(e,t,s)=>{var n=s(43);function r(e){var t="https://react.dev/errors/"+e;if(1<arguments.length){t+="?args[]="+encodeURIComponent(arguments[1]);for(var s=2;s<arguments.length;s++)t+="&args[]="+encodeURIComponent(arguments[s])}return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function i(){}var o={d:{f:i,r:function(){throw Error(r(522))},D:i,C:i,L:i,m:i,X:i,S:i,M:i},p:0,findDOMNode:null},a=Symbol.for("react.portal");var c=n.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function l(e,t){return"font"===e?"":"string"===typeof t?"use-credentials"===t?t:"":void 0}t.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=o,t.createPortal=function(e,t){var s=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;if(!t||1!==t.nodeType&&9!==t.nodeType&&11!==t.nodeType)throw Error(r(299));return function(e,t,s){var n=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:a,key:null==n?null:""+n,children:e,containerInfo:t,implementation:s}}(e,t,null,s)},t.flushSync=function(e){var t=c.T,s=o.p;try{if(c.T=null,o.p=2,e)return e()}finally{c.T=t,o.p=s,o.d.f()}},t.preconnect=function(e,t){"string"===typeof e&&(t?t="string"===typeof(t=t.crossOrigin)?"use-credentials"===t?t:"":void 0:t=null,o.d.C(e,t))},t.prefetchDNS=function(e){"string"===typeof e&&o.d.D(e)},t.preinit=function(e,t){if("string"===typeof e&&t&&"string"===typeof t.as){var s=t.as,n=l(s,t.crossOrigin),r="string"===typeof t.integrity?t.integrity:void 0,i="string"===typeof t.fetchPriority?t.fetchPriority:void 0;"style"===s?o.d.S(e,"string"===typeof t.precedence?t.precedence:void 0,{crossOrigin:n,integrity:r,fetchPriority:i}):"script"===s&&o.d.X(e,{crossOrigin:n,integrity:r,fetchPriority:i,nonce:"string"===typeof t.nonce?t.nonce:void 0})}},t.preinitModule=function(e,t){if("string"===typeof e)if("object"===typeof t&&null!==t){if(null==t.as||"script"===t.as){var s=l(t.as,t.crossOrigin);o.d.M(e,{crossOrigin:s,integrity:"string"===typeof t.integrity?t.integrity:void 0,nonce:"string"===typeof t.nonce?t.nonce:void 0})}}else null==t&&o.d.M(e)},t.preload=function(e,t){if("string"===typeof e&&"object"===typeof t&&null!==t&&"string"===typeof t.as){var s=t.as,n=l(s,t.crossOrigin);o.d.L(e,s,{crossOrigin:n,integrity:"string"===typeof t.integrity?t.integrity:void 0,nonce:"string"===typeof t.nonce?t.nonce:void 0,type:"string"===typeof t.type?t.type:void 0,fetchPriority:"string"===typeof t.fetchPriority?t.fetchPriority:void 0,referrerPolicy:"string"===typeof t.referrerPolicy?t.referrerPolicy:void 0,imageSrcSet:"string"===typeof t.imageSrcSet?t.imageSrcSet:void 0,imageSizes:"string"===typeof t.imageSizes?t.imageSizes:void 0,media:"string"===typeof t.media?t.media:void 0})}},t.preloadModule=function(e,t){if("string"===typeof e)if(t){var s=l(t.as,t.crossOrigin);o.d.m(e,{as:"string"===typeof t.as&&"script"!==t.as?t.as:void 0,crossOrigin:s,integrity:"string"===typeof t.integrity?t.integrity:void 0})}else o.d.m(e)},t.requestFormReset=function(e){o.d.r(e)},t.unstable_batchedUpdates=function(e,t){return e(t)},t.useFormState=function(e,t,s){return c.H.useFormState(e,t,s)},t.useFormStatus=function(){return c.H.useHostTransitionStatus()},t.version="19.2.3"},799:(e,t)=>{var s=Symbol.for("react.transitional.element");function n(e,t,n){var r=null;if(void 0!==n&&(r=""+n),void 0!==t.key&&(r=""+t.key),"key"in t)for(var i in n={},t)"key"!==i&&(n[i]=t[i]);else n=t;return t=n.ref,{$$typeof:s,type:e,key:r,ref:void 0!==t?t:null,props:n}}Symbol.for("react.fragment"),t.jsx=n,t.jsxs=n},950:(e,t,s)=>{!function e(){if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"===typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}(),e.exports=s(672)}},t={};function s(n){var r=t[n];if(void 0!==r)return r.exports;var i=t[n]={exports:{}};return e[n](i,i.exports,s),i.exports}var n=s(43),r=s(950);function i(e){return i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},i(e)}function o(e){var t=function(e,t){if("object"!=i(e)||!e)return e;var s=e[Symbol.toPrimitive];if(void 0!==s){var n=s.call(e,t||"default");if("object"!=i(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==i(t)?t:t+""}function a(e,t,s){return(t=o(t))in e?Object.defineProperty(e,t,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[t]=s,e}function c(e,t){var s=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),s.push.apply(s,n)}return s}function l(e){for(var t=1;t<arguments.length;t++){var s=null!=arguments[t]?arguments[t]:{};t%2?c(Object(s),!0).forEach(function(t){a(e,t,s[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(s)):c(Object(s)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(s,t))})}return e}var u=s(579);const d=["USA","China","India","Germany","France","UK","Japan","South Korea","Brazil","Mexico","Turkey","Egypt","South Africa","Kazakhstan","Uzbekistan","Belarus","Ukraine","Georgia","Armenia","Azerbaijan","Vietnam","Thailand","Indonesia","Philippines","Other"],m=[{value:"study",label:"Study (Student Visa)",description:"You are here to study at a Russian university"},{value:"business",label:"Business (Work Visa)",description:"You are here for work or business opportunities"},{value:"tourism",label:"Tourism (Tourist Visa)",description:"You are visiting Moscow as a tourist"}];const h=function(e){let{onComplete:t}=e;const[s,r]=(0,n.useState)({age:25,nationality:"",purpose:""}),[i,o]=(0,n.useState)({}),a=(e,t)=>{r(s=>l(l({},s),{},{[e]:t})),i[e]&&o(t=>l(l({},t),{},{[e]:null}))},c=(()=>{let e="Medium",t=[];return"Belarus"===s.nationality&&(e="Easy",t.push("\u2705 Visa process is simplified for Belarusian citizens")),"study"===s.purpose?t.push("\ud83d\udcb0 Students have limited budget but better language skills"):"business"===s.purpose&&t.push("\ud83d\udcb0 Business travelers have more money"),s.age<25?t.push("\u26a1 Young travelers have more energy and time"):s.age>50&&t.push("\ud83d\ude30 Older travelers may face more stress and fatigue"),{difficulty:e,tips:t}})();return(0,u.jsxs)("div",{className:"character-creation",children:[(0,u.jsxs)("div",{className:"intro-text",children:[(0,u.jsx)("h2",{children:"Create Your Character"}),(0,u.jsx)("p",{children:"Welcome to Moscow! Your choices here will determine your journey. Different nationalities, ages, and purposes will create unique challenges."})]}),(0,u.jsxs)("form",{onSubmit:e=>{e.preventDefault(),(()=>{const e={};return s.nationality||(e.nationality="Please select your nationality"),"Russia"===s.nationality&&(e.nationality="You cannot select Russia as your nationality for this game"),s.purpose||(e.purpose="Please select your purpose of visit"),(s.age<18||s.age>99)&&(e.age="Age must be between 18 and 99"),o(e),0===Object.keys(e).length})()&&t(s)},className:"character-form",children:[(0,u.jsxs)("div",{className:"form-group",children:[(0,u.jsxs)("label",{htmlFor:"age",children:["Age: ",(0,u.jsx)("span",{className:"value-display",children:s.age})]}),(0,u.jsx)("input",{type:"range",id:"age",min:"18",max:"99",value:s.age,onChange:e=>a("age",parseInt(e.target.value)),className:"slider"}),i.age&&(0,u.jsx)("span",{className:"error",children:i.age})]}),(0,u.jsxs)("div",{className:"form-group",children:[(0,u.jsx)("label",{htmlFor:"nationality",children:"Nationality:"}),(0,u.jsxs)("select",{id:"nationality",value:s.nationality,onChange:e=>a("nationality",e.target.value),className:i.nationality?"error-input":"",children:[(0,u.jsx)("option",{value:"",children:"Select your country..."}),d.map(e=>(0,u.jsx)("option",{value:e,children:e},e))]}),i.nationality&&(0,u.jsx)("span",{className:"error",children:i.nationality})]}),(0,u.jsxs)("div",{className:"form-group",children:[(0,u.jsx)("label",{children:"Purpose of Visit:"}),(0,u.jsx)("div",{className:"radio-group",children:m.map(e=>(0,u.jsx)("div",{className:"radio-option",children:(0,u.jsxs)("label",{className:"radio-label",children:[(0,u.jsx)("input",{type:"radio",name:"purpose",value:e.value,checked:s.purpose===e.value,onChange:e=>a("purpose",e.target.value)}),(0,u.jsxs)("div",{className:"radio-content",children:[(0,u.jsx)("strong",{children:e.label}),(0,u.jsx)("p",{children:e.description})]})]})},e.value))}),i.purpose&&(0,u.jsx)("span",{className:"error",children:i.purpose})]}),s.nationality&&s.purpose&&(0,u.jsxs)("div",{className:"difficulty-preview",children:[(0,u.jsx)("h3",{children:"\ud83d\udcca Character Preview"}),(0,u.jsxs)("p",{children:[(0,u.jsx)("strong",{children:"Difficulty:"})," ",c.difficulty]}),c.tips.length>0&&(0,u.jsx)("ul",{className:"tips-list",children:c.tips.map((e,t)=>(0,u.jsx)("li",{children:e},t))})]}),(0,u.jsx)("button",{type:"submit",className:"btn-primary",children:"Begin Your Journey \u2192"})]})]})};const p=function(e){let{character:t,resources:s,updateResources:r,onComplete:i}=e;const[o,a]=(0,n.useState)("customs-line"),[c,l]=(0,n.useState)(30),[d,m]=(0,n.useState)([]),[h,p]=(0,n.useState)(!0),[f,y]=(0,n.useState)("neutral");(0,n.useEffect)(()=>{if("customs-line"===o&&c>0){const e=setTimeout(()=>{l(e=>e-1)},100);return()=>clearTimeout(e)}"customs-line"===o&&0===c&&(a("customs-interaction"),g("You reach the customs officer. They look at you and gesture for your documents."))},[o,c]);const g=e=>{m(t=>[...t,e])},v=e=>{p(!1),"wait"===e?(g("You patiently wait in the long queue, observing other travelers..."),r({time:s.time-5,stress:s.stress+3})):"ask-help"===e&&(s.language>=20?(g("You successfully ask someone in Russian where to go. They help you!"),l(15),r({time:s.time-2,stress:s.stress-2,language:s.language+2})):(g("You try to ask in broken Russian, but create confusion. You end up waiting longer..."),l(45),r({time:s.time-8,stress:s.stress+5})))},j=e=>{p(!1),"smile-polite"===e?(g("You smile and hand over your documents politely."),y("neutral"),"Belarus"===t.nationality?(g('The officer smiles slightly seeing your Belarusian passport. "Welcome," they say.'),r({stress:s.stress-3,documents:{migrationCard:!0}}),setTimeout(()=>a("migration-card"),2e3)):(g("The officer takes your passport and examines it carefully..."),setTimeout(()=>a("document-check"),2e3))):"rush"===e?(g("You seem impatient. The officer gives you a stern look."),y("annoyed"),r({stress:s.stress+8}),g('"Papers," they say coldly in Russian.'),setTimeout(()=>a("document-check"),2e3)):"speak-russian"===e&&(s.language>=30?(g('You greet them in Russian: "\u0414\u043e\u0431\u0440\u044b\u0439 \u0434\u0435\u043d\u044c!" The officer nods approvingly.'),y("friendly"),r({stress:s.stress-5,language:s.language+3}),setTimeout(()=>a("document-check"),2e3)):(g("You attempt Russian but mispronounce badly. The officer looks confused."),y("confused"),r({stress:s.stress+3}),setTimeout(()=>a("document-check"),2e3)))};return(0,u.jsxs)("div",{className:"arrival-scene",children:[(0,u.jsxs)("div",{className:"scene-header",children:[(0,u.jsx)("h2",{children:"\ud83d\udec2 Scene 1: Arrival & Immigration"}),(0,u.jsx)("p",{className:"scene-description",children:"You've just landed at Sheremetyevo International Airport in Moscow. The airport is busy, signs are in Russian and English, and you see a long line at passport control."})]}),(0,u.jsxs)("div",{className:"scene-content",children:[(0,u.jsxs)("div",{className:"message-log",children:["customs-line"===o&&c>0&&(0,u.jsxs)("div",{className:"waiting-indicator",children:[(0,u.jsxs)("p",{children:["\u23f3 Waiting in queue... Time remaining: ",c," seconds"]}),(0,u.jsx)("div",{className:"progress-bar",children:(0,u.jsx)("div",{className:"progress-fill",style:{width:"".concat((30-c)/30*100,"%")}})}),(0,u.jsx)("p",{className:"flavor-text",children:"You see people from all over the world. Some look confident, others nervous like you..."})]}),d.map((e,t)=>(0,u.jsx)("div",{className:"message",children:e},t))]}),"customs-line"===o&&c>0&&h&&(0,u.jsxs)("div",{className:"choices",children:[(0,u.jsx)("h3",{children:"What do you do while waiting?"}),(0,u.jsx)("button",{className:"choice-btn",onClick:()=>v("wait"),children:"\ud83d\udcf1 Wait patiently and check your phone"}),(0,u.jsxs)("button",{className:"choice-btn",onClick:()=>v("ask-help"),disabled:s.language<10,children:["\ud83d\udde3\ufe0f Ask someone for help in Russian",s.language<10&&" (Need 10% Russian)"]})]}),"customs-interaction"===o&&h&&(0,u.jsxs)("div",{className:"choices",children:[(0,u.jsx)("h3",{children:"How do you approach the customs officer?"}),(0,u.jsx)("button",{className:"choice-btn",onClick:()=>j("smile-polite"),children:"\ud83d\ude0a Smile and be polite"}),(0,u.jsx)("button",{className:"choice-btn",onClick:()=>j("rush"),children:"\u26a1 Look impatient (you want to get through quickly)"}),(0,u.jsxs)("button",{className:"choice-btn",onClick:()=>j("speak-russian"),disabled:s.language<15,children:["\ud83c\uddf7\ud83c\uddfa Greet them in Russian",s.language<15&&" (Need 15% Russian)"]})]}),"document-check"===o&&(0,u.jsxs)("div",{className:"document-check-scene",children:[(0,u.jsx)("div",{className:"checking-animation",children:(0,u.jsx)("p",{children:"\ud83d\udccb Checking documents..."})}),(0,u.jsx)("button",{className:"btn-primary",onClick:()=>{p(!1);"study"===t.purpose||t.purpose;"friendly"===f||"Belarus"===t.nationality?(g("The officer quickly checks your documents and stamps your passport."),g("You receive your migration card. Keep it safe - you need it for registration!"),r({documents:{migrationCard:!0},time:s.time-3})):"annoyed"===f?(g("The officer takes their time, asking many questions in Russian..."),s.language<15?(g("You struggle to understand. You have to call a translator. This takes time."),r({time:s.time-15,stress:s.stress+10,money:s.money-500})):(g("You manage to answer in basic Russian. Finally, they let you through."),r({time:s.time-10,stress:s.stress+5,language:s.language+5})),g("You receive your migration card."),r({documents:{migrationCard:!0}})):(g("The officer processes your documents normally."),g("You receive your migration card. Remember to register within 7 days!"),r({documents:{migrationCard:!0},time:s.time-5,stress:s.stress+2})),setTimeout(()=>a("completed"),2e3)},children:"Continue \u2192"})]}),"completed"===o&&(0,u.jsx)("div",{className:"completion-section",children:(0,u.jsx)("button",{className:"btn-primary btn-large",onClick:()=>{g("\u2705 You have successfully cleared customs and received your migration card!"),setTimeout(()=>i(),1500)},children:"Continue to Transport Selection \u2192"})})]})]})};const f=function(e){let{character:t,resources:s,updateResources:r,onComplete:i}=e;const[o,a]=(0,n.useState)("choice"),[c,l]=(0,n.useState)([]),[d,m]=(0,n.useState)(null),h=e=>{l(t=>[...t,e])},p=e=>{switch(m(e),a("journey"),e){case"taxi":f();break;case"metro":g();break;case"friend":j()}},f=()=>{h("\ud83d\ude96 You exit the airport and look for a taxi..."),h("Several drivers approach you, offering rides."),a("taxi-negotiation")},y=e=>{"official"===e?(h("You find the official taxi stand. The fare is 2000\u20bd to the city center."),h("The driver speaks some English and accepts card payment."),r({money:s.money-2e3,time:s.time-8,stress:s.stress-5}),h("\u2705 You arrive safely at your destination with minimal stress!"),setTimeout(()=>a("complete"),2e3)):"negotiate"===e?s.language>=40?(h("You negotiate in Russian and agree on 1200\u20bd."),h("The driver is impressed by your Russian skills!"),r({money:s.money-1200,time:s.time-10,stress:s.stress-2,language:s.language+5}),h("\u2705 You saved money and practiced your Russian!"),setTimeout(()=>a("complete"),2e3)):(h("You try to negotiate but struggle with Russian..."),h("The driver takes advantage and charges you 3000\u20bd!"),r({money:s.money-3e3,time:s.time-12,stress:s.stress+10}),h("\ud83d\ude13 You feel cheated but at least you arrived..."),setTimeout(()=>a("complete"),2e3)):"cash-card"===e&&(h("You ask about payment methods..."),s.language>=25?(h('You successfully ask "\u041c\u043e\u0436\u043d\u043e \u043a\u0430\u0440\u0442\u043e\u0439?" (Can I pay by card?)'),h("The driver says yes. You pay 2000\u20bd by card."),r({money:s.money-2e3,time:s.time-9,stress:s.stress+2,language:s.language+3}),h("\u2705 Payment successful!"),setTimeout(()=>a("complete"),2e3)):(h("You struggle to communicate about payment..."),h("You end up paying 2500\u20bd in cash (the only option you understood)."),r({money:s.money-2500,time:s.time-10,stress:s.stress+8}),h("\ud83d\ude30 The language barrier made this stressful..."),setTimeout(()=>a("complete"),2e3)))},g=()=>{h("\ud83d\ude87 You decide to take the metro. It's much cheaper!"),h("You follow signs (in Cyrillic) to the Aeroexpress train."),a("metro-navigation")},v=e=>{"figure-out"===e?s.language>=35?(h("You read the signs in Russian and successfully purchase an Aeroexpress ticket."),h("Then you navigate to the metro and buy a Troika card."),h("The journey is smooth. Total cost: 700\u20bd"),r({money:s.money-700,time:s.time-25,stress:s.stress+5,language:s.language+8}),h("\u2705 You successfully navigated the metro system!"),setTimeout(()=>a("complete"),2e3)):(h("You struggle with the ticket machines (all in Russian)..."),h("After 20 minutes of confusion, you finally get help from a kind stranger."),h("You eventually make it, but it was exhausting."),r({money:s.money-700,time:s.time-40,stress:s.stress+15,language:s.language+5}),h("\ud83d\ude13 You made it, but you're exhausted from the confusion..."),setTimeout(()=>a("complete"),2e3)):"ask-help"===e?(h("You approach a young person who looks friendly..."),s.language>=15?(h('You ask in simple Russian: "\u041f\u043e\u043c\u043e\u0433\u0438\u0442\u0435, \u043f\u043e\u0436\u0430\u043b\u0443\u0439\u0441\u0442\u0430" (Help, please)'),h("They help you buy tickets and show you the way!"),r({money:s.money-700,time:s.time-20,stress:s.stress-3,language:s.language+7}),h("\u2705 Kindness of strangers! You made it safely and learned more Russian!"),setTimeout(()=>a("complete"),2e3)):(h("You struggle to communicate, using hand gestures..."),h("They eventually understand and help, but it takes time."),r({money:s.money-700,time:s.time-30,stress:s.stress+8,language:s.language+3}),h("\ud83d\ude05 Communication was hard, but you got help."),setTimeout(()=>a("complete"),2e3))):"give-up"===e&&(h("The metro is too confusing. You decide to get a taxi instead..."),h("You end up paying 2500\u20bd for a taxi from the airport."),r({money:s.money-2500,time:s.time-15,stress:s.stress+12}),h("\ud83d\ude1e You gave up on the metro and spent more money..."),setTimeout(()=>a("complete"),2e3))},j=()=>{h("\ud83d\udcf1 You call your friend who's already in Moscow."),h("They arrive in 20 minutes and greet you warmly!"),h("They help you navigate everything and take you to your accommodation."),r({money:s.money-0,time:s.time-10,stress:s.stress-15}),h("\u2705 Having a friend here makes everything so much easier! (Easy mode activated)"),setTimeout(()=>a("complete"),2e3)};return(0,u.jsxs)("div",{className:"transport-choice",children:[(0,u.jsxs)("div",{className:"scene-header",children:[(0,u.jsx)("h2",{children:"\ud83d\ude96 Transport Selection"}),(0,u.jsx)("p",{className:"scene-description",children:"You've cleared customs and have your luggage. Now you need to get to your accommodation in the city. How will you travel?"})]}),(0,u.jsxs)("div",{className:"scene-content",children:[(0,u.jsx)("div",{className:"message-log",children:c.map((e,t)=>(0,u.jsx)("div",{className:"message",children:e},t))}),"choice"===o&&(0,u.jsxs)("div",{className:"transport-options",children:[(0,u.jsx)("h3",{children:"Choose your transport:"}),(0,u.jsxs)("div",{className:"transport-card",children:[(0,u.jsx)("div",{className:"transport-header",children:"\ud83d\ude96 Taxi"}),(0,u.jsxs)("div",{className:"transport-details",children:[(0,u.jsxs)("p",{children:[(0,u.jsx)("strong",{children:"Cost:"})," 1500-3000\u20bd (depends on negotiation)"]}),(0,u.jsxs)("p",{children:[(0,u.jsx)("strong",{children:"Time:"})," ~8-12 units"]}),(0,u.jsxs)("p",{children:[(0,u.jsx)("strong",{children:"Difficulty:"})," May require Russian communication"]})]}),(0,u.jsx)("button",{className:"choice-btn",onClick:()=>p("taxi"),children:"Choose Taxi"})]}),(0,u.jsxs)("div",{className:"transport-card",children:[(0,u.jsx)("div",{className:"transport-header",children:"\ud83d\ude87 Metro (Aeroexpress + Metro)"}),(0,u.jsxs)("div",{className:"transport-details",children:[(0,u.jsxs)("p",{children:[(0,u.jsx)("strong",{children:"Cost:"})," ~700\u20bd (cheapest option)"]}),(0,u.jsxs)("p",{children:[(0,u.jsx)("strong",{children:"Time:"})," ~20-40 units (can get lost)"]}),(0,u.jsxs)("p",{children:[(0,u.jsx)("strong",{children:"Difficulty:"})," Requires navigation skills & Russian"]})]}),(0,u.jsx)("button",{className:"choice-btn",onClick:()=>p("metro"),children:"Choose Metro"})]}),(0,u.jsxs)("div",{className:"transport-card easy-mode",children:[(0,u.jsx)("div",{className:"transport-header",children:"\ud83d\udc65 Friend Pickup"}),(0,u.jsxs)("div",{className:"transport-details",children:[(0,u.jsxs)("p",{children:[(0,u.jsx)("strong",{children:"Cost:"})," 0\u20bd (free!)"]}),(0,u.jsxs)("p",{children:[(0,u.jsx)("strong",{children:"Time:"})," ~10 units"]}),(0,u.jsxs)("p",{children:[(0,u.jsx)("strong",{children:"Difficulty:"})," Easy mode - stress free!"]})]}),(0,u.jsx)("button",{className:"choice-btn",onClick:()=>p("friend"),children:"Call Your Friend"})]})]}),"taxi-negotiation"===o&&(0,u.jsxs)("div",{className:"choices",children:[(0,u.jsx)("h3",{children:"How do you handle the taxi situation?"}),(0,u.jsx)("button",{className:"choice-btn",onClick:()=>y("official"),children:"\ud83c\udfe2 Use official taxi stand (2000\u20bd, safe)"}),(0,u.jsxs)("button",{className:"choice-btn",onClick:()=>y("negotiate"),disabled:s.language<20,children:["\ud83d\udcac Negotiate with driver in Russian",s.language<20&&" (Need 20% Russian)"]}),(0,u.jsx)("button",{className:"choice-btn",onClick:()=>y("cash-card"),children:"\ud83d\udcb3 Ask about card payment"})]}),"metro-navigation"===o&&(0,u.jsxs)("div",{className:"choices",children:[(0,u.jsx)("h3",{children:"How do you navigate the metro system?"}),(0,u.jsx)("button",{className:"choice-btn",onClick:()=>v("figure-out"),children:"\ud83e\udde0 Try to figure it out yourself"}),(0,u.jsx)("button",{className:"choice-btn",onClick:()=>v("ask-help"),children:"\ud83d\udde3\ufe0f Ask someone for help"}),(0,u.jsx)("button",{className:"choice-btn",onClick:()=>v("give-up"),children:"\ud83d\ude30 Give up and take a taxi instead"})]}),"complete"===o&&(0,u.jsx)("div",{className:"completion-section",children:(0,u.jsx)("button",{className:"btn-primary btn-large",onClick:()=>{h("\ud83c\udfc1 You have arrived at your accommodation!"),setTimeout(()=>i(),1500)},children:"Continue to Results \u2192"})})]})]})};const y=function(e){let{character:t,resources:s}=e;const n=(()=>{let e=0;const t=s.money/1e4*100;e+=t>80?30:t>50?20:t>20?10:5;const n=s.time/100*100;return e+=n>60?20:n>40?15:n>20?10:5,s.stress<20?e+=20:s.stress<40?e+=15:s.stress<60?e+=10:e+=5,s.language>40?e+=15:s.language>25?e+=10:s.language>10&&(e+=5),s.documents.migrationCard&&(e+=15),{score:e,maxScore:100,percentage:e/100*100}})(),r=(i=n.percentage)>=90?{rank:"S",title:"Moscow Expert",emoji:"\ud83c\udf1f"}:i>=75?{rank:"A",title:"Seasoned Traveler",emoji:"\u2b50"}:i>=60?{rank:"B",title:"Competent Navigator",emoji:"\u2728"}:i>=45?{rank:"C",title:"Struggling But Surviving",emoji:"\ud83d\udcaa"}:{rank:"D",title:"Barely Made It",emoji:"\ud83d\ude05"};var i;const o=(()=>{const e=[];return s.money<2e3?e.push("\ud83d\udcb0 You spent a lot of money! Consider more budget-friendly options next time."):s.money>8e3&&e.push("\ud83d\udcb0 Great money management! You saved well."),s.stress>50?e.push("\ud83d\ude30 High stress levels! Try to find ways to reduce anxiety, like learning basic phrases."):s.stress<20&&e.push("\ud83d\ude0c You handled stress well! Your calm approach paid off."),s.language>30?e.push("\ud83d\udde3\ufe0f Your Russian skills improved significantly! Language is key to settling in."):s.language<15&&e.push("\ud83d\udde3\ufe0f Consider learning more Russian - it will make life much easier here."),s.time<30?e.push("\u23f1\ufe0f You ran out of time! Better planning could help."):s.time>80&&e.push("\u23f1\ufe0f Excellent time management! You were efficient."),e})();return(0,u.jsxs)("div",{className:"game-complete",children:[(0,u.jsxs)("div",{className:"complete-header",children:[(0,u.jsx)("h1",{children:"\ud83c\udf89 Day 1 Complete!"}),(0,u.jsx)("p",{children:"You've successfully arrived in Moscow and reached your accommodation."})]}),(0,u.jsxs)("div",{className:"results-container",children:[(0,u.jsxs)("div",{className:"rank-display",children:[(0,u.jsxs)("div",{className:"rank-badge",children:[(0,u.jsx)("div",{className:"rank-emoji",children:r.emoji}),(0,u.jsx)("div",{className:"rank-letter",children:r.rank})]}),(0,u.jsx)("h2",{children:r.title}),(0,u.jsxs)("div",{className:"score-display",children:[(0,u.jsxs)("div",{className:"score-number",children:[n.score,"/",n.maxScore]}),(0,u.jsxs)("div",{className:"score-percentage",children:[n.percentage.toFixed(1),"%"]})]})]}),(0,u.jsxs)("div",{className:"stats-breakdown",children:[(0,u.jsx)("h3",{children:"\ud83d\udcca Performance Breakdown"}),(0,u.jsxs)("div",{className:"stat-item",children:[(0,u.jsx)("span",{className:"stat-label",children:"\ud83d\udcb0 Money Remaining:"}),(0,u.jsxs)("span",{className:"stat-value",children:[s.money,"\u20bd"]})]}),(0,u.jsxs)("div",{className:"stat-item",children:[(0,u.jsx)("span",{className:"stat-label",children:"\u23f1\ufe0f Time Remaining:"}),(0,u.jsxs)("span",{className:"stat-value",children:[s.time," units"]})]}),(0,u.jsxs)("div",{className:"stat-item",children:[(0,u.jsx)("span",{className:"stat-label",children:"\ud83d\ude30 Stress Level:"}),(0,u.jsxs)("span",{className:"stat-value",children:[s.stress,"%"]})]}),(0,u.jsxs)("div",{className:"stat-item",children:[(0,u.jsx)("span",{className:"stat-label",children:"\ud83d\udde3\ufe0f Russian Proficiency:"}),(0,u.jsxs)("span",{className:"stat-value",children:[s.language,"%"]})]}),(0,u.jsxs)("div",{className:"stat-item",children:[(0,u.jsx)("span",{className:"stat-label",children:"\ud83d\udcc4 Documents:"}),(0,u.jsx)("span",{className:"stat-value",children:s.documents.migrationCard?"\u2705 Migration Card":"\u274c No Migration Card"})]})]}),o.length>0&&(0,u.jsxs)("div",{className:"insights-section",children:[(0,u.jsx)("h3",{children:"\ud83d\udca1 Insights & Tips"}),(0,u.jsx)("ul",{className:"insights-list",children:o.map((e,t)=>(0,u.jsx)("li",{children:e},t))})]}),(0,u.jsxs)("div",{className:"character-summary",children:[(0,u.jsx)("h3",{children:"\ud83d\udc64 Your Character"}),(0,u.jsxs)("p",{children:[(0,u.jsx)("strong",{children:"Nationality:"})," ",t.nationality]}),(0,u.jsxs)("p",{children:[(0,u.jsx)("strong",{children:"Age:"})," ",t.age]}),(0,u.jsxs)("p",{children:[(0,u.jsx)("strong",{children:"Purpose:"})," ",t.purpose]})]}),(0,u.jsxs)("div",{className:"next-steps",children:[(0,u.jsx)("h3",{children:"\ud83d\udd1c Coming Soon"}),(0,u.jsx)("p",{children:"This demo covers the first day of settling in Moscow. Future updates will include:"}),(0,u.jsxs)("ul",{children:[(0,u.jsx)("li",{children:"\ud83c\udfe5 Hospital & Medical Examination"}),(0,u.jsx)("li",{children:"\ud83c\udfdb\ufe0f Immigration Office (\u043f\u043e\u043b\u0443\u0447\u0435\u043d\u0438\u0435 \u0420\u0412\u041f/\u0412\u041d\u0416)"}),(0,u.jsx)("li",{children:"\ud83d\udccb Government Service Center (\u041c\u043e\u0438 \u0434\u043e\u043a\u0443\u043c\u0435\u043d\u0442\u044b)"}),(0,u.jsx)("li",{children:"\ud83c\udfe0 Finding and Renting an Apartment"}),(0,u.jsx)("li",{children:"\ud83d\udcbc Job Hunting"}),(0,u.jsx)("li",{children:"\ud83d\udc65 Making Friends & Socializing"}),(0,u.jsx)("li",{children:"\ud83d\ude94 Dealing with Police (document checks)"})]})]}),(0,u.jsx)("div",{className:"action-buttons",children:(0,u.jsx)("button",{className:"btn-primary btn-large",onClick:()=>window.location.reload(),children:"\ud83d\udd04 Play Again"})})]})]})};const g=function(){const[e,t]=(0,n.useState)("character-creation"),[s,r]=(0,n.useState)(null),[i,o]=(0,n.useState)({money:1e4,time:100,documents:{passport:!0,visa:!0,migrationCard:!1,registration:!1},language:0,stress:0}),a=e=>{o(t=>l(l(l({},t),e),{},{documents:l(l({},t.documents),e.documents||{})}))};return(0,u.jsxs)("div",{className:"App",children:[(0,u.jsxs)("header",{className:"App-header",children:[(0,u.jsx)("h1",{children:"\ud83c\udfdb\ufe0f How a Foreigner Settles Down in Moscow"}),s&&(0,u.jsxs)("div",{className:"resource-bar",children:[(0,u.jsxs)("div",{className:"resource",children:["\ud83d\udcb0 ",i.money,"\u20bd"]}),(0,u.jsxs)("div",{className:"resource",children:["\u23f1\ufe0f Time: ",i.time]}),(0,u.jsxs)("div",{className:"resource",children:["\ud83d\ude30 Stress: ",i.stress,"%"]}),(0,u.jsxs)("div",{className:"resource",children:["\ud83d\udde3\ufe0f Russian: ",i.language,"%"]})]})]}),(0,u.jsxs)("main",{className:"game-container",children:["character-creation"===e&&(0,u.jsx)(h,{onComplete:e=>{r(e);const s=l({},i);"Belarus"===e.nationality?(s.stress=5,s.time=120):s.stress=15,"study"===e.purpose?(s.money=5e3,s.language=30):"business"===e.purpose?(s.money=5e4,s.language=10):(s.money=15e3,s.language=5),e.age<25?s.time=120:e.age>50&&(s.time=80,s.stress=20),o(s),t("arrival")}}),"arrival"===e&&(0,u.jsx)(p,{character:s,resources:i,updateResources:a,onComplete:()=>{t("transport")}}),"transport"===e&&(0,u.jsx)(f,{character:s,resources:i,updateResources:a,onComplete:()=>{t("complete")}}),"complete"===e&&(0,u.jsx)(y,{character:s,resources:i})]})]})};r.render((0,u.jsx)(n.StrictMode,{children:(0,u.jsx)(g,{})}),document.getElementById("root"))})();
//# sourceMappingURL=main.491a4af9.js.map